<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Test</title>
</head>
<body>
    <p>Testing Menu Display test 5
    </p>
    <select id="OrderMenuDropdown" name="Dropdown"></select>
    <div id="myData"></div>
    <script>
let dropdown = document.getElementById('OrderMenuDropdown');
dropdown.length = 0;

let defaultOption = document.createElement('option');
defaultOption.text = 'Choose Order Menu';

dropdown.add(defaultOption);
dropdown.selectedIndex = 0;

        fetch('JSONTest.json')
              .then(  
        function(response) {  
          if (response.status !== 200) {  
            console.warn('Looks like there was a problem. Status Code: ', 
              response.status);  
            return;  
          }
    
          // Examine the text in the response  
          response.json().then(function(data) {  
            let option;
        
            for (let i = 0; i < data.length; i++) {
              option = document.createElement('option');
              option.text = data[i].Name;
              option.value = data[i].Text;
              dropdown.add(option);
            }    
          });  
        }  
      )  
        
      .catch(function(err) {  
        console.error('Fetch Error -', err);  
      });
   </script>
  <script> 
        fetch('JSONTest.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("myData");
            var fields = ["Name", "Name.Row"];
            for (var i = 0; i < fields.length; i++) {
                var value = getproperty (data, fields[i]);
                var div = document.createElement("div");
                div.innerHTML = fields[i].Name;
                mainContainer.appendChild(div);
            }
        }
    </script>
</body>
</html>
